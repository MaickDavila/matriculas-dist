import{_ as U}from"./alert.b8f6e1e0.js";import{d as D,u as $,z,a as j,b as k,l as I,e as L,t as v,h as t,o as r,f as l,w as B,v as C,g as e,F as m,j as b,k as n,i as E,m as c,B as _,c as O,n as G,p as x,s as H}from"./index.f9849cfc.js";import{O as R,k as T,E as w,h as q}from"./radio-group.37d57e2a.js";const J={key:0,class:"flex flex-col space-y-4"},K=e("div",{class:"uppercase font-bold text-2xl border-b-2"},[e("h1",null,"Programa Acad\xE9mico")],-1),Q=["value"],W=e("div",{class:"uppercase font-bold text-2xl border-b-2"},[e("h1",null,"Periodo Academico")],-1),X=["value"],Y=e("div",{class:"mb-3 uppercase font-bold text-2xl border-b-2"},[e("h1",null,"Cursos y Horarios Matriculados")],-1),Z={key:0},ee={key:1},te={class:"text-lg leading-6 font-medium text-gray-900 uppercase"},se={class:"space-y-4"},oe={class:"relative block bg-white border rounded-lg shadow-sm px-6 py-4 cursor-pointer sm:flex sm:justify-between focus:outline-none"},ae={class:"flex items-center"},re={class:"text-sm flex flex-col"},le={class:"block sm:inline"},ne={class:"block sm:inline"},ie={class:"block sm:inline"},de={class:"text-xs"},ge=D({__name:"horarios",setup(ue){const s=$(),S=z(),f=j(),y=k(!1),P=I(),d=k(0),i=k(0);L(async()=>{await s.get_periodo_active(),await S.get_user_data_by_token(),await f.get_alumno(S.persona_id),s.curso_grupo_list=[],d.value=f.alumno.expedientes[0].id,await s.get_periodos_by_expediente_id(f.alumno.expedientes[0].id);const{status:p,data:a}=await s.get_horarios_matriculados_by_expediente(d.value,s.periodos[s.periodos.length-1].id);if(p!==200){v("Error al obtener los horarios",{type:"danger",position:"top-right",hideProgressBar:!0}),y.value=!0;return}v(`${a.length} cursos obtenidos`,{type:"success",position:"top-right",hideProgressBar:!0}),y.value=!0,i.value=s.periodos[s.periodos.length-1].id});const A=async()=>{const{status:p,data:a}=await P.get_reporte_matricula_horario_pdf(d.value,i.value);if(p!==200){v("Error al obtener el reporte",{type:"danger",hideProgressBar:!0});return}const g=document.createElement("a");g.target="_blank",g.href=a.path,g.click()},F=async(p,a)=>{await s.get_periodos_by_expediente_id(a),i.value=s.periodos[s.periodos.length-1].id,s.get_horarios_matriculados_by_expediente(a,i.value)};return(p,a)=>{const g=U;return t(y)?(r(),l("div",J,[K,B(e("select",{"onUpdate:modelValue":a[0]||(a[0]=o=>E(d)?d.value=o:null),class:"bg-gray-50 border mb-4 border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",onChange:a[1]||(a[1]=o=>F(t(i),t(d)))},[(r(!0),l(m,null,b(t(f).alumno.expedientes,o=>(r(),l("option",{key:o.id,value:o.id},n(o.programa_nombre),9,Q))),128))],544),[[C,t(d)]]),W,B(e("select",{"onUpdate:modelValue":a[2]||(a[2]=o=>E(i)?i.value=o:null),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",onChange:a[3]||(a[3]=o=>t(s).get_horarios_matriculados_by_expediente(t(d),t(i)))},[(r(!0),l(m,null,b(t(s).periodos,o=>(r(),l("option",{key:o.id,value:o.id},n(o.nombre),9,X))),128))],544),[[C,t(i)]]),Y,t(s).curso_grupo_list.length>0?(r(),l("div",Z,[e("button",{class:"mx-auto mt-3 flex-shrink-0 px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",onClick:A}," Descargar Ficha de Matricula ")])):(r(),l("div",ee,[c(g,{message:"El alumno no tiene horarios activos, o no realiz\xF3 su matricula!"})])),(r(!0),l(m,null,b(t(s).curso_grupo_list,(o,M)=>(r(),l("div",{key:M},[e("h2",te,[e("b",null,n(o.curso_nombre),1)]),c(t(q),{class:"mt-2"},{default:_(()=>[e("div",se,[(r(!0),l(m,null,b(o.grupos,(u,V)=>(r(),O(t(R),{key:V,as:"template",value:u,class:G([u.checked?"border-l-8 border-green-400":""])},{default:_(()=>[e("div",oe,[e("span",ae,[e("span",re,[c(t(T),{as:"span",class:"font-medium text-gray-900"},{default:_(()=>[x(" Grupo: "),e("b",null,n(u.grupo),1)]),_:2},1024),c(t(w),{as:"span",class:"text-gray-500"},{default:_(()=>[x(" Docente: "),e("span",le,[e("b",null,n(u.docente),1)])]),_:2},1024),c(t(w),{as:"span",class:"text-gray-500"},{default:_(()=>[x(" Inicio: "),e("span",ne,[e("b",null,n(u.fecha_inicio),1)])]),_:2},1024),c(t(w),{as:"span",class:"text-gray-500"},{default:_(()=>[x(" FIN: "),e("span",ie,[e("b",null,n(u.fecha_termino),1)])]),_:2},1024)])]),e("div",de,[(r(!0),l(m,null,b(u.horarios,(h,N)=>(r(),l("ul",{key:N},[e("li",null,n(h.dia)+" de "+n(h.hora_inicio)+" a "+n(h.hora_fin)+" - AULA: "+n(h.aula),1)]))),128))])])]),_:2},1032,["value","class"]))),128))])]),_:2},1024)]))),128))])):H("",!0)}}});export{ge as default};
