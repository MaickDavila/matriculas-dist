import{_ as M}from"./alert.d640deda.js";import{d as F,u as P,y as V,a as A,b as k,k as D,e as N,t as x,o as t,f as s,w as U,v as $,g as e,F as _,i as m,j as n,h as r,l as g,A as p,c as j,n as z,q as R,m as w}from"./index.89a57496.js";import{R as q,g as G,b as H,v as L}from"./radio-group.f22e754b.js";const T={key:0,class:"flex flex-col space-y-4"},I=e("div",{class:"uppercase font-bold text-2xl border-b-2"},[e("h1",null,"Programa Acad\xE9mico")],-1),J=["value"],K=e("div",{class:"mb-3 uppercase font-bold text-2xl border-b-2"},[e("h1",null,"Cursos y Horarios Matriculados")],-1),O={key:0},Q={key:1},W={class:"text-lg leading-6 font-medium text-gray-900 uppercase"},X={class:"space-y-4"},Y={class:"relative block bg-white border rounded-lg shadow-sm px-6 py-4 cursor-pointer sm:flex sm:justify-between focus:outline-none"},Z={class:"flex items-center"},ee={class:"text-sm flex flex-col"},te=w(" Grupo: "),se=w(" Docente: "),oe={class:"block sm:inline"},ae={class:"text-xs"},ue=F({setup(re){const l=P(),v=V(),b=A(),f=k(!1),y=D(),i=k(0);N(async()=>{await l.get_periodo_active(),await v.get_user_data_by_token(),await b.get_alumno(v.persona_id),l.curso_grupo_list=[],i.value=b.alumno.expedientes[0].id;const{status:d,data:a}=await l.get_horarios_matriculados_by_expediente(i.value);if(d!==200){x("Error al obtener los horarios",{type:"danger",position:"top-right",hideProgressBar:!0}),f.value=!0;return}x(`${a.length} cursos obtenidos`,{type:"success",position:"top-right",hideProgressBar:!0}),f.value=!0});const S=async()=>{const{status:d,data:a}=await y.get_reporte_matricula_pdf(i.value);if(d!==200){x("Error al obtener el reporte",{type:"danger",hideProgressBar:!0});return}const u=document.createElement("a");u.target="_blank",u.href=y.get_media_url(a.path),u.click()};return(d,a)=>{const u=M;return f.value?(t(),s("div",T,[I,U(e("select",{"onUpdate:modelValue":a[0]||(a[0]=o=>i.value=o),class:"bg-gray-50 border mb-4 border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",onChange:a[1]||(a[1]=o=>r(l).get_horarios_matriculados_by_expediente(i.value))},[(t(!0),s(_,null,m(r(b).alumno.expedientes,o=>(t(),s("option",{key:o.id,value:o.id},n(o.programa_nombre),9,J))),128))],544),[[$,i.value]]),K,r(l).curso_grupo_list.length>0?(t(),s("div",O,[e("button",{class:"mx-auto mt-3 flex-shrink-0 px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",onClick:S}," Descargar Ficha de Matricula ")])):(t(),s("div",Q,[g(u,{message:"El alumno no tiene horarios activos, o no realiz\xF3 su matricula!"})])),(t(!0),s(_,null,m(r(l).curso_grupo_list,(o,B)=>(t(),s("div",{key:B},[e("h2",W,[e("b",null,n(o.curso_nombre),1)]),g(r(L),{class:"mt-2"},{default:p(()=>[e("div",X,[(t(!0),s(_,null,m(o.grupos,(c,C)=>(t(),j(r(H),{key:C,as:"template",value:c,class:z([c.checked?"border-l-8 border-green-400":""])},{default:p(()=>[e("div",Y,[e("span",Z,[e("span",ee,[g(r(q),{as:"span",class:"font-medium text-gray-900"},{default:p(()=>[te,e("b",null,n(c.grupo),1)]),_:2},1024),g(r(G),{as:"span",class:"text-gray-500"},{default:p(()=>[se,e("span",oe,[e("b",null,n(c.docente),1)])]),_:2},1024)])]),e("div",ae,[(t(!0),s(_,null,m(c.horarios,(h,E)=>(t(),s("ul",{key:E},[e("li",null,n(h.dia)+" de "+n(h.hora_inicio)+" a "+n(h.hora_fin),1)]))),128))])])]),_:2},1032,["value","class"]))),128))])]),_:2},1024)]))),128))])):R("",!0)}}});export{ue as default};
