import{_ as C}from"./alert.26de5865.js";import{d as E,x as F,j as M,a as N,l as P,b as V,t as p,o as t,e as s,u as o,f as e,n as u,F as g,g as f,h as a,p as d,c as D,s as j,q as z,m as y}from"./index.be19ff7d.js";import{u as A}from"./programa.0c11e38a.js";import{R,g as U,b as $,v as q}from"./radio-group.8e350c8a.js";const G={key:0,class:"flex flex-col space-y-4"},H=e("div",{class:"mb-3 uppercase font-bold text-2xl border-b-2"},[e("h1",null,"Cursos y Horarios Matriculados")],-1),L={key:0},T={key:1},I={class:"text-lg leading-6 font-medium text-gray-900 uppercase"},J={class:"space-y-4"},K={class:"relative block bg-white border rounded-lg shadow-sm px-6 py-4 cursor-pointer sm:flex sm:justify-between focus:outline-none"},O={class:"flex items-center"},Q={class:"text-sm flex flex-col"},W=y(" Grupo: "),X=y(" Docente: "),Y={class:"block sm:inline"},Z={class:"text-xs"},re=E({setup(ee){const r=A(),h=F(),v=M(),_=N(!1),b=P();V(async()=>{await r.get_periodo_active(),await h.get_user_data_by_token(),await v.get_alumno(h.persona_id),r.curso_grupo_list=[];const{status:i,data:c}=await r.get_horarios_matriculados_by_expediente();if(i!==200){p("Error al obtener los horarios",{type:"danger",position:"top-right",hideProgressBar:!0}),_.value=!0;return}p(`${c.length} cursos obtenidos`,{type:"success",position:"top-right",hideProgressBar:!0}),_.value=!0});const k=async()=>{const{status:i,data:c}=await b.get_reporte_matricula_pdf();if(i!==200){p("Error al obtener el reporte",{type:"danger",hideProgressBar:!0});return}const n=document.createElement("a");n.target="_blank",n.href=b.get_media_url(c.path),n.click()};return(i,c)=>{const n=C;return _.value?(t(),s("div",G,[H,o(r).curso_grupo_list.length>0?(t(),s("div",L,[e("button",{class:"mx-auto mt-3 flex-shrink-0 px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",onClick:k}," Descargar Ficha de Matricula ")])):(t(),s("div",T,[u(n,{message:"El alumno no tiene horarios activos, o no realiz\xF3 su matricula!"})])),(t(!0),s(g,null,f(o(r).curso_grupo_list,(x,w)=>(t(),s("div",{key:w},[e("h2",I,[e("b",null,a(x.curso_nombre),1)]),u(o(q),{class:"mt-2"},{default:d(()=>[e("div",J,[(t(!0),s(g,null,f(x.grupos,(l,S)=>(t(),D(o($),{key:S,as:"template",value:l,class:j([l.checked?"border-l-8 border-green-400":""])},{default:d(()=>[e("div",K,[e("span",O,[e("span",Q,[u(o(R),{as:"span",class:"font-medium text-gray-900"},{default:d(()=>[W,e("b",null,a(l.grupo),1)]),_:2},1024),u(o(U),{as:"span",class:"text-gray-500"},{default:d(()=>[X,e("span",Y,[e("b",null,a(l.docente),1)])]),_:2},1024)])]),e("div",Z,[(t(!0),s(g,null,f(l.horarios,(m,B)=>(t(),s("ul",{key:B},[e("li",null,a(m.dia)+" de "+a(m.hora_inicio)+" a "+a(m.hora_fin),1)]))),128))])])]),_:2},1032,["value","class"]))),128))])]),_:2},1024)]))),128))])):z("",!0)}}});export{re as default};
