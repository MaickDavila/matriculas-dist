import{_ as C}from"./alert.26109fd5.js";import{d as E,u as F,s as M,z as N,a as P,j as V,b as z,t as p,o as t,e as s,g as o,f as e,l as u,F as g,h,i as a,m as d,c as D,p as j,n as A,k as y}from"./index.74e150f2.js";import{R,g as U,b as $,v as G}from"./radio-group.e2e82b16.js";const H={key:0,class:"flex flex-col space-y-4"},L=e("div",{class:"mb-3 uppercase font-bold text-2xl border-b-2"},[e("h1",null,"Cursos y Horarios Matriculados")],-1),T={key:0},q={key:1},I={class:"text-lg leading-6 font-medium text-gray-900 uppercase"},J={class:"space-y-4"},K={class:"relative block bg-white border rounded-lg shadow-sm px-6 py-4 cursor-pointer sm:flex sm:justify-between focus:outline-none"},O={class:"flex items-center"},Q={class:"text-sm flex flex-col"},W=y(" Grupo: "),X=y(" Docente: "),Y={class:"block sm:inline"},Z={class:"text-xs"},ae=E({setup(ee){const r=F(),f=M(),v=N(),_=P(!1),b=V();z(async()=>{await r.get_periodo_active(),await f.get_user_data_by_token(),await v.get_alumno(f.persona_id),r.curso_grupo_list=[];const{status:i,data:c}=await r.get_horarios_matriculados_by_expediente();if(i!==200){p("Error al obtener los horarios",{type:"danger",position:"top-right",hideProgressBar:!0}),_.value=!0;return}p(`${c.length} cursos obtenidos`,{type:"success",position:"top-right",hideProgressBar:!0}),_.value=!0});const k=async()=>{const{status:i,data:c}=await b.get_reporte_matricula_pdf();if(i!==200){p("Error al obtener el reporte",{type:"danger",hideProgressBar:!0});return}const n=document.createElement("a");n.target="_blank",n.href=b.get_media_url(c.path),n.click()};return(i,c)=>{const n=C;return _.value?(t(),s("div",H,[L,o(r).curso_grupo_list.length>0?(t(),s("div",T,[e("button",{class:"mx-auto mt-3 flex-shrink-0 px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",onClick:k}," Descargar Ficha de Matricula ")])):(t(),s("div",q,[u(n,{message:"El alumno no tiene horarios activos, o no realiz\xF3 su matricula!"})])),(t(!0),s(g,null,h(o(r).curso_grupo_list,(x,w)=>(t(),s("div",{key:w},[e("h2",I,[e("b",null,a(x.curso_nombre),1)]),u(o(G),{class:"mt-2"},{default:d(()=>[e("div",J,[(t(!0),s(g,null,h(x.grupos,(l,S)=>(t(),D(o($),{key:S,as:"template",value:l,class:j([l.checked?"border-l-8 border-green-400":""])},{default:d(()=>[e("div",K,[e("span",O,[e("span",Q,[u(o(R),{as:"span",class:"font-medium text-gray-900"},{default:d(()=>[W,e("b",null,a(l.grupo),1)]),_:2},1024),u(o(U),{as:"span",class:"text-gray-500"},{default:d(()=>[X,e("span",Y,[e("b",null,a(l.docente),1)])]),_:2},1024)])]),e("div",Z,[(t(!0),s(g,null,h(l.horarios,(m,B)=>(t(),s("ul",{key:B},[e("li",null,a(m.dia)+" de "+a(m.hora_inicio)+" a "+a(m.hora_fin),1)]))),128))])])]),_:2},1032,["value","class"]))),128))])]),_:2},1024)]))),128))])):A("",!0)}}});export{ae as default};
