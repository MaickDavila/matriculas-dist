import{u as E,R as F,g as M,b as N,v as P,_ as V}from"./programa.5871626e.js";import{d as D,u as j,a as z,b as A,e as R,f as U,t as p,o as t,g as s,h as a,i as y,j as u,F as g,k as h,l as e,m as r,w as d,c as $,n as G,p as v}from"./index.367560b1.js";const H={key:0,class:"flex flex-col space-y-4"},L=e("div",{class:"mb-3 uppercase font-bold text-2xl border-b-2"},[e("h1",null,"Cursos y Horarios Matriculados")],-1),T={key:0},q={key:1},I={class:"text-lg leading-6 font-medium text-gray-900 uppercase"},J={class:"space-y-4"},K={class:"relative block bg-white border rounded-lg shadow-sm px-6 py-4 cursor-pointer sm:flex sm:justify-between focus:outline-none"},O={class:"flex items-center"},Q={class:"text-sm flex flex-col"},W=v(" Grupo: "),X=v(" Docente: "),Y={class:"block sm:inline"},Z={class:"text-xs"},ae=D({setup(ee){const o=E(),f=j(),k=z(),_=A(!1),b=R();U(async()=>{await o.get_periodo_active(),await f.get_user_data_by_token(),await k.get_alumno(f.persona_id),o.curso_grupo_list=[];const{status:i,data:c}=await o.get_horarios_matriculados_by_expediente();if(i!==200){p("Error al obtener los horarios",{type:"danger",position:"top-right",hideProgressBar:!0}),_.value=!0;return}p(`${c.length} cursos obtenidos`,{type:"success",position:"top-right",hideProgressBar:!0}),_.value=!0});const w=async()=>{const{status:i,data:c}=await b.get_reporte_matricula_pdf();if(i!==200){p("Error al obtener el reporte",{type:"danger",hideProgressBar:!0});return}const n=document.createElement("a");n.target="_blank",n.href=b.get_media_url(c.path),n.click()};return(i,c)=>{const n=V;return _.value?(t(),s("div",H,[L,a(o).periodo.is_active_matricula?(t(),s("div",T,[a(o).get_curso_grupo_list.length>0?(t(),s("button",{key:0,class:"mx-auto mt-3 flex-shrink-0 px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",onClick:w}," Descargar Ficha de Matricula ")):y("",!0)])):(t(),s("div",q,[u(n,{message:"El alumno no tiene horarios activos, o no realiz\xF3 su matricula!"})])),(t(!0),s(g,null,h(a(o).curso_grupo_list,(x,S)=>(t(),s("div",{key:S},[e("h2",I,[e("b",null,r(x.curso_nombre),1)]),u(a(P),{class:"mt-2"},{default:d(()=>[e("div",J,[(t(!0),s(g,null,h(x.grupos,(l,B)=>(t(),$(a(N),{key:B,as:"template",value:l,class:G([l.checked?"border-l-8 border-green-400":""])},{default:d(()=>[e("div",K,[e("span",O,[e("span",Q,[u(a(F),{as:"span",class:"font-medium text-gray-900"},{default:d(()=>[W,e("b",null,r(l.grupo),1)]),_:2},1024),u(a(M),{as:"span",class:"text-gray-500"},{default:d(()=>[X,e("span",Y,[e("b",null,r(l.docente),1)])]),_:2},1024)])]),e("div",Z,[(t(!0),s(g,null,h(l.horarios,(m,C)=>(t(),s("ul",{key:C},[e("li",null,r(m.dia)+" de "+r(m.hora_inicio)+" a "+r(m.hora_fin),1)]))),128))])])]),_:2},1032,["value","class"]))),128))])]),_:2},1024)]))),128))])):y("",!0)}}});export{ae as default};
