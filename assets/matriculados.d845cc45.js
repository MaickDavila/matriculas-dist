import{d as C,a as h,b as B,r as V,o as a,e as r,f as e,k as _,u as l,l as w,w as f,v as k,F as u,h as y,m as M,p as v,t as o,j as U}from"./index.96397d6f.js";import{b as j,U as A,u as P,r as D,c as T}from"./programa.c3feefff.js";import{u as E}from"./academico.e4f3bc1d.js";const F={class:"bg-white shadow"},I={class:"px-4 sm:px-6 lg:max-w-6xl lg:mx-auto lg:px-8"},N={class:"py-6 lg:border-t lg:border-gray-200"},$={class:"flex-1 min-w-0"},z={class:"sm:hidden","aria-label":"Back"},R={href:"#",class:"flex items-center text-sm font-medium text-gray-500 hover:text-gray-700"},X=v(" Back "),L={class:"hidden sm:flex","aria-label":"Breadcrumb"},q={role:"list",class:"flex items-center space-x-4"},G={class:"flex"},J=v(" Inicio "),O={class:"flex items-center"},Q=v(" Matriculas "),Z=e("div",{class:"mt-2 md:flex md:items-center md:justify-between"},[e("div",{class:"flex-1 min-w-0"},[e("h2",{class:"text-2xl font-bold leading-7 text-primary-700 sm:text-3xl sm:truncate"}," Matriculas ")])],-1),H={class:"mt-4 flex-shrink-0 flex md:mt-0 md:justify-between"},K={class:"flex flex-col w-10/12"},W={class:"flex flex-row"},Y={class:"pr-12 w-4/12"},ee=e("label",{for:"promocion",class:"text-xs"},"Periodo Academico:",-1),te=["value"],se={class:"pr-12 w-8/12"},oe=e("label",{for:"promocion",class:"text-xs"},"Programa:",-1),ae=e("option",{value:"0"}," --Todos-- ",-1),re=["value"],le={class:"flex flex-row"},ie={class:"pr-12 w-full"},de=e("label",{for:"buscar",class:"text-xs"},"Buscar:",-1),ne={class:"flex flex-row w-2/12"},ce={class:"md:items-center grid place-items-center"},me={class:"px-4 sm:px-6 lg:px-8"},_e={class:"mt-8 flex flex-col"},ue={class:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8"},xe={class:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8"},pe={class:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg"},ge={class:"min-w-full divide-y divide-gray-300"},he=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6"}," Alumno "),e("th",{scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"}," Programa "),e("th",{scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"}," Periodo "),e("th",{scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"}," Fecha "),e("th",{scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"}," Descarga ")])],-1),fe={key:0,class:"divide-y divide-gray-200 bg-white"},ye={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm sm:pl-6"},ve={class:"flex items-center"},be={class:"h-10 w-10 flex-shrink-0"},we=["src"],ke={class:"ml-4"},Se={class:"font-medium text-gray-900 text-xs"},Ce={class:"text-gray-500"},Be={class:"px-3 py-4 text-sm text-gray-500"},Ve={class:"text-gray-900"},Me={class:"text-gray-500"},Ue={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-500"},je={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-500"},Ae={class:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6"},Pe=["onClick"],De={key:1,class:"divide-y divide-gray-200 bg-white"},Te=e("tr",null,[e("td",{class:"whitespace-nowrap px-3 py-4 text-sm text-gray-500 text-center",colspan:"5"}," SIN RESULTADOS ")],-1),Ee=[Te],Re=C({setup(Fe){const d=j(),n=E(),x=A(),i=h(0),c=h(0),p=h(""),g=P();B(async()=>{await d.get_periodo_active(),await d.get_periodos(),i.value=d.periodo.id,await x.get_programas_by_periodo(i.value),await n.get_matriculas(i.value,c.value,"")});const S=async b=>{const{status:s,data:m}=await g.get_reporte_matricula_pdf(b,i.value);if(s!==200){U("Error al obtener el reporte",{type:"danger",hideProgressBar:!0});return}const t=document.createElement("a");t.target="_blank",t.href=g.get_media_url(m.path),t.click()};return(b,s)=>{const m=V("router-link");return a(),r(u,null,[e("div",F,[e("div",I,[e("div",N,[e("div",$,[e("nav",z,[e("a",R,[_(l(D),{class:"flex-shrink-0 -ml-1 mr-1 h-5 w-5 text-gray-400","aria-hidden":"true"}),X])]),e("nav",L,[e("ol",q,[e("li",null,[e("div",G,[_(m,{to:"inicio",class:"text-sm font-medium text-gray-500 hover:text-gray-700"},{default:w(()=>[J]),_:1})])]),e("li",null,[e("div",O,[_(l(T),{class:"flex-shrink-0 h-5 w-5 text-gray-400","aria-hidden":"true"}),_(m,{to:"matriculas",class:"ml-4 text-sm font-medium text-gray-500 hover:text-gray-700"},{default:w(()=>[Q]),_:1})])])])])]),Z,e("div",H,[e("div",K,[e("div",W,[e("div",Y,[ee,f(e("select",{"onUpdate:modelValue":s[0]||(s[0]=t=>i.value=t),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",onChange:s[1]||(s[1]=t=>l(x).get_programas_by_periodo(i.value))},[(a(!0),r(u,null,y(l(d).periodos,t=>(a(),r("option",{key:t.id,value:t.id},o(t.nombre),9,te))),128))],544),[[k,i.value]])]),e("div",se,[oe,f(e("select",{"onUpdate:modelValue":s[2]||(s[2]=t=>c.value=t),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},[ae,(a(!0),r(u,null,y(l(x).programas,t=>(a(),r("option",{key:t.id,value:t.id},o(t.nombre),9,re))),128))],512),[[k,c.value]])])]),e("div",le,[e("div",ie,[de,f(e("input",{id:"buscar","onUpdate:modelValue":s[3]||(s[3]=t=>p.value=t),type:"text",name:"buscar",class:"mt-0 shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md"},null,512),[[M,p.value]])])])]),e("div",ne,[e("div",ce,[e("button",{type:"button",class:"ml-0 w-full items-center px-4 border border-transparent mt-9 rounded-md shadow-sm font-medium text-white bg-primary-500 hover:bg-cyan-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:s[4]||(s[4]=t=>l(n).get_matriculas(i.value,c.value,p.value))}," Buscar ")])])])])])]),e("div",me,[e("div",_e,[e("div",ue,[e("div",xe,[e("div",pe,[e("table",ge,[he,l(n).matriculas.length>0?(a(),r("tbody",fe,[(a(!0),r(u,null,y(l(n).matriculas,t=>(a(),r("tr",{key:t.id},[e("td",ye,[e("div",ve,[e("div",be,[e("img",{class:"h-10 w-10 rounded-full",src:t.foto?l(g).get_media_url(t.foto):"https://th.bing.com/th/id/R.e62421c9ba5aeb764163aaccd64a9583?rik=DzXjlnhTgV5CvA&riu=http%3a%2f%2fcdn.onlinewebfonts.com%2fsvg%2fimg_210318.png&ehk=952QCsChZS0znBch2iju8Vc%2fS2aIXvqX%2f0zrwkjJ3GA%3d&risl=&pid=ImgRaw&r=0",alt:""},null,8,we)]),e("div",ke,[e("div",Se,o(t.nombres)+" "+o(t.apellido_paterno)+" "+o(t.apellido_materno),1),e("div",Ce,o(t.numero_documento),1)])])]),e("td",Be,[e("div",Ve,o(t.programa_nombre),1),e("div",Me,o(t.promocion),1)]),e("td",Ue,o(t.periodo),1),e("td",je,o(t.fecha),1),e("td",Ae,[e("button",{class:"text-indigo-600 hover:text-indigo-900 underline",onClick:Ie=>S(t.id)}," Constancia ",8,Pe)])]))),128))])):(a(),r("tbody",De,Ee))])])])])])])],64)}}});export{Re as default};
