import{_ as V}from"./alert.b8f6e1e0.js";import{d as D,l as q,o as a,f as l,g as e,p as C,k as r,F as w,j as k,h as o,t as $,u as z,b as _,e as L,r as R,w as M,v as F,i as U,m,B as v,s as X,n as A}from"./index.f9849cfc.js";import{u as N}from"./docente.35a77a9f.js";import{u as I}from"./reporte.ffa49ac4.js";const T={class:"px-4 sm:px-6 lg:px-8"},J={class:"sm:flex sm:items-center"},O={class:"sm:flex-auto"},Q=e("h1",{class:"text-2xl font-semibold text-gray-800"}," ALUMNOS ",-1),Z={class:"flex flex-row items-center w-full text-xl my-4"},H={as:"span",class:"font-medium text-gray-900 w-10/12"},K={as:"span",class:"font-medium text-gray-900 w-2/12"},W={class:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none"},Y={class:"mt-4 flex flex-col"},ee={class:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8"},te={class:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8"},se={class:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg"},oe={class:"min-w-full divide-y divide-gray-300"},re=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6"}," N\xB0 "),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6"}," Alumno "),e("th",{scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"}," N\xB0 Documento "),e("th",{scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"}," Correo "),e("th",{scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"}," Celular ")])],-1),ne={class:"divide-y divide-gray-200 bg-white"},ae={class:"whitespace-nowrap px-3 py-2 text-sm text-gray-500"},le={class:"text-gray-900"},ie={class:"whitespace-nowrap py-2 pl-4 pr-3 text-sm sm:pl-6"},ce={class:"flex items-center"},de={class:"h-10 w-10 flex-shrink-0"},ue=["src"],pe={class:"ml-4"},_e={class:"font-medium text-gray-900"},me={class:"whitespace-nowrap px-3 py-2 text-sm text-gray-500"},ge={class:"text-gray-900"},fe={class:"whitespace-nowrap px-3 py-2 text-sm text-gray-500"},xe={class:"text-gray-900"},he={class:"whitespace-nowrap px-3 py-2 text-sm text-gray-500"},be={class:"text-gray-900"},ye=D({__name:"lista-alumnos",props:{nombrecurso:{type:String,required:!1,default:()=>""},grupocurso:{type:String,required:!1,default:()=>""},cursogrupo_id:{type:Number,required:!1,default:()=>0}},emits:["atras"],setup(G,{emit:c}){const i=G,f=c,d=q(),u=I(),g=N(),x=()=>{g.alumnos_curso=[],f("atras",!0)},h=async()=>{const{status:b,data:n}=await u.get_listado_alumnos_excel(i.cursogrupo_id)||{};if(console.log(n.path),b!==200){$("Error al exportar excel",{type:"danger",hideProgressBar:!0});return}const t=document.createElement("a");t.target="_blank",t.href=n.path,t.click()};return(b,n)=>(a(),l("div",T,[e("div",J,[e("div",O,[Q,e("div",Z,[e("p",H,[C(" Curso: "),e("b",null,r(i.nombrecurso),1)]),e("p",K,[C(" Grupo: "),e("b",null,r(i.grupocurso),1)])])]),e("div",W,[e("button",{type:"button",class:"mx-2 inline-flex items-center justify-center rounded-md border border-transparent bg-green-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 sm:w-auto",onClick:n[0]||(n[0]=t=>h())}," Exportar "),e("button",{type:"button",class:"mx-2 inline-flex items-center justify-center rounded-md border border-transparent bg-red-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 sm:w-auto",onClick:n[1]||(n[1]=t=>x())}," Atras ")])]),e("div",Y,[e("div",ee,[e("div",te,[e("div",se,[e("table",oe,[re,e("tbody",ne,[(a(!0),l(w,null,k(o(g).alumnos_curso,(t,p)=>(a(),l("tr",{key:p},[e("td",ae,[e("div",le,r(p+1),1)]),e("td",ie,[e("div",ce,[e("div",de,[e("img",{class:"h-8 w-8 rounded-full",src:t.foto?o(d).get_media_url(t.foto):"https://th.bing.com/th/id/R.e62421c9ba5aeb764163aaccd64a9583?rik=DzXjlnhTgV5CvA&riu=http%3a%2f%2fcdn.onlinewebfonts.com%2fsvg%2fimg_210318.png&ehk=952QCsChZS0znBch2iju8Vc%2fS2aIXvqX%2f0zrwkjJ3GA%3d&risl=&pid=ImgRaw&r=0",alt:""},null,8,ue)]),e("div",pe,[e("div",_e,r(`${t.apellido_paterno} ${t.apellido_materno}, ${t.nombres}`),1)])])]),e("td",me,[e("div",ge,r(t.numero_documento),1)]),e("td",fe,[e("div",xe,r(t.correo),1)]),e("td",he,[e("div",be,r(t.celular),1)])]))),128))])])])])])])]))}}),ve={class:"flex flex-col space-y-4"},we=e("div",{class:"uppercase font-bold text-2xl border-b-2"},[e("h1",null,"Periodo Academico")],-1),ke=["value"],$e=e("div",{class:"uppercase font-bold text-2xl border-b-2"},[e("h1",null,"Cursos")],-1),Ce={key:0},Se={key:0},Be={class:"text-lg leading-6 font-medium text-gray-900 uppercase"},Re={class:"space-y-4"},Ge={class:"relative block bg-white border border-l-8 border-green-400 rounded-lg shadow-sm px-6 py-4 sm:flex sm:justify-between focus:outline-none"},Ae={class:"flex items-center"},De={class:"text-sm flex flex-col"},Ne=e("span",{class:"block sm:inline underline hover:text-blue-800"},"Relaci\xF3n de estudiantes",-1),je={class:"text-xs"},Ee={key:1},Le=D({__name:"cursos",setup(G){const c=N(),i=z(),f=_(!1),d=_(0),u=_(!1),g=_(""),x=_(""),h=_(0);L(async()=>{u.value=!1,await i.get_periodo_active(),await i.get_periodos_by_docente_id();const{status:n}=await c.get_cursos_by_docente(i.periodos[i.periodos.length-1].id);n!==200?$("Error al obtener los cursos",{type:"danger",position:"top-right",hideProgressBar:!0}):(f.value=!0,d.value=i.periodos[i.periodos.length-1].id)});const b=async(n,t,p)=>{const{status:S,data:B}=await c.get_alumnos_by_curso(n);if(g.value=t,x.value=p,h.value=n,S!==200){$("Error al obtener los alumnos",{type:"danger",hideProgressBar:!0});return}$(`${B.length} alumnos obtenidos`,{type:"success",position:"top-right",hideProgressBar:!0}),u.value=!0};return(n,t)=>{const p=R("RadioGroupLabel"),S=R("RadioGroupDescription"),B=R("RadioGroup"),j=V;return a(),l("div",ve,[e("div",{class:A(o(u)?"hidden":"block")},[we,M(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>U(d)?d.value=s:null),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",onChange:t[1]||(t[1]=s=>o(c).get_cursos_by_docente(o(d)))},[(a(!0),l(w,null,k(o(i).periodos,s=>(a(),l("option",{key:s.id,value:s.id},r(s.nombre),9,ke))),128))],544),[[F,o(d)]]),$e,o(f)?(a(),l("div",Ce,[o(c).cursos_docente.length>0?(a(),l("div",Se,[(a(!0),l(w,null,k(o(c).cursos_docente,(s,E)=>(a(),l("div",{key:E,class:"my-2"},[e("h2",Be,[e("b",null,r(s.curso_nombre),1)]),m(B,{class:"mt-2"},{default:v(()=>[e("div",Re,[e("div",Ge,[e("span",Ae,[e("span",De,[m(p,{as:"span",class:"font-medium text-gray-900"},{default:v(()=>[C(" Programa: "),e("b",null,r(s.programa_nombre),1)]),_:2},1024),m(p,{as:"span",class:"font-medium text-gray-900"},{default:v(()=>[C(" Grupo: "),e("b",null,r(s.grupo),1)]),_:2},1024),m(S,{as:"span",class:"text-gray-500 cursor-pointer",onClick:y=>b(s.id,s.curso_nombre,s.grupo)},{default:v(()=>[Ne]),_:2},1032,["onClick"])])]),e("div",je,[(a(!0),l(w,null,k(s.horarios,(y,P)=>(a(),l("ul",{key:P},[e("li",null,r(y.dia)+" de "+r(y.hora_inicio)+" a "+r(y.hora_fin),1)]))),128))])])])]),_:2},1024)]))),128))])):(a(),l("div",Ee,[m(j,{message:"El Docente no tiene Cursos activos en este  periodo"})]))])):X("",!0)],2),m(ye,{class:A(o(u)?"block":"hidden"),nombrecurso:o(g),grupocurso:o(x),cursogrupo_id:o(h),onAtras:t[2]||(t[2]=s=>u.value=!1)},null,8,["class","nombrecurso","grupocurso","cursogrupo_id"])])}}});export{Le as default};
